#!/bin/bash

current_date=$(date +"%F_%H-%M-%S")
backup_folder=~/.acharluk/backups/$current_date
backup_last=~/.acharluk/backups/last 

if [ -f ~/.acharluk/backups/last ]; then
	rm -r ~/.acharluk/backups/last;
fi
mkdir -p ~/.acharluk/backups/last

echo "Creating backup folder: $backup_folder"
mkdir -p $backup_folder

echo "Backing up original configuration..."
if [ -f ~/.bashrc ]; then
    echo "Moving .bashrc to .bashrc.backup_$current_date"
    cp ~/.bashrc $backup_folder/.bashrc
    cp ~/.bashrc $backup_last/.bashrc
fi
if [ -f ~/.bash_profile ]; then
    echo "Moving .bash_profile to .bash_profile.backup_$current_date"
    cp ~/.bash_profile $backup_folder/.bash_profile
    cp ~/.bash_profile $backup_last/.bash_profile
fi
if [ -f ~/.bash_aliases ]; then
    echo "Moving .bash_aliases to .bash_aliases.backup_$current_date"
    cp ~/.bash_aliases $backup_folder/.bash_aliases
    cp ~/.bash_aliases $backup_last/.bash_aliases
fi
if [ -f ~/.vimrc ]; then
    echo "Moving .vimrc to .vimrc.backup_$current_date"
    cp ~/.vimrc $backup_folder/.vimrc
    cp ~/.vimrc $backup_last/.vimrc
fi
